/* ===================================
   Spinning Roulette Wheel
   =================================== */

/* Wheel container */
.wheel-container {
    position: relative;
    width: 350px;
    /* 40% larger than 250px */
    height: 350px;
    margin: 0 auto var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: center;
}


/* Wheel GIF/Video */
.roulette-wheel {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* Use contain for transparent images */
    display: block;
    filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.5));
    transition: transform 0.3s ease, filter 0.3s ease;
    cursor: pointer;
}

/* Wheel segments with glow effect */
.segment {
    transition: all 0.3s ease;
}

/* Wheel center circle */
.wheel-center {
    cursor: pointer;
    transition: all 0.3s ease;
}

/* Wheel text */
.wheel-text {
    pointer-events: none;
    user-select: none;
    transition: all 0.3s ease;
}

/* Pointer at bottom */
.wheel-pointer {
    position: absolute;
    bottom: 40px;
    /* Much closer to wheel */
    /* Moved upward, closer to wheel */
    /* Changed from top to bottom */
    left: 50%;
    transform: translateX(-50%) rotate(180deg);
    /* Rotate to point up toward wheel */
    /* Flip vertically to point up */
    /* Rotated 180 degrees to point up */
    z-index: 10;
    filter: drop-shadow(0 4px 10px rgba(251, 191, 36, 0.6));
    animation: pointerBounce 2s ease-in-out infinite;
    pointer-events: none;
}

@keyframes pointerBounce {

    0%,
    100% {
        transform: translateX(-50%) rotate(180deg) translateY(0);
    }

    50% {
        transform: translateX(-50%) rotate(180deg) translateY(-5px);
    }
}

/* Call to action text */
.wheel-cta {
    position: absolute;
    bottom: -15px;
    /* Closer to arrow */
    left: 50%;
    transform: translateX(-50%);
    z-index: 5;
    text-align: center;
    width: 100%;
}

.wheel-cta-text {
    font-size: 1.25rem;
    font-weight: 700;
    background: linear-gradient(135deg, #ef4444, #f59e0b, #ef4444);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 2px 10px rgba(239, 68, 68, 0.3);
    animation: gradientShift 3s ease infinite, textPulse 2s ease-in-out infinite;
    letter-spacing: 0.5px;
    cursor: pointer;
    user-select: none;
}

@keyframes gradientShift {

    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

@keyframes textPulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.8;
    }
}

/* Enhanced hover effect with rotation wiggle */
.wheel-container:hover .roulette-wheel {
    transform: scale(1.08) rotate(5deg);
    filter: drop-shadow(0 15px 40px rgba(239, 68, 68, 0.6));
    animation: hoverWiggle 0.5s ease-in-out;
}

@keyframes hoverWiggle {

    0%,
    100% {
        transform: scale(1.08) rotate(5deg);
    }

    25% {
        transform: scale(1.08) rotate(-3deg);
    }

    75% {
        transform: scale(1.08) rotate(8deg);
    }
}

.wheel-container:hover .wheel-center {
    filter: brightness(1.4) drop-shadow(0 0 20px rgba(245, 158, 11, 0.8));
}

.wheel-container:hover .segment {
    filter: brightness(1.2) drop-shadow(0 0 10px currentColor);
}

.wheel-container:hover .wheel-text {
    filter: drop-shadow(0 0 8px white);
}

/* Active/click effect */
.wheel-container:active .roulette-wheel {
    transform: scale(0.95);
}

/* Spinning animation */
.roulette-wheel.spinning {
    animation: spinWheel 4s cubic-bezier(0.17, 0.67, 0.12, 0.99) !important;
}

@keyframes spinWheel {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(1800deg);
        /* 5 full rotations */
    }
}

/* Disabled state */
.wheel-container.disabled {
    opacity: 0.6;
    pointer-events: none;
}

.wheel-container.disabled .roulette-wheel {
    cursor: not-allowed;
}

/* Pulse animation when idle */
.wheel-center {
    animation: centerPulse 3s ease-in-out infinite;
}

@keyframes centerPulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.85;
    }
}

/* Segment highlight animation when idle */
@keyframes segmentGlow {

    0%,
    100% {
        filter: brightness(1);
    }

    50% {
        filter: brightness(1.1);
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .wheel-container {
        width: 200px;
        height: 200px;
    }
}

@media (max-width: 480px) {
    .wheel-container {
        width: 180px;
        height: 180px;
    }
}